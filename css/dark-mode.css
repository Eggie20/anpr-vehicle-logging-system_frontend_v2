/* ============================================
   ANPR Login System - Dark Mode Theme
   ============================================ */

/* Dark Mode Variables Override */
.dark-mode {
  --color-primary: #818CF8;
  --color-primary-hover: #A5B4FC;
  --color-secondary: #A78BFA;
  --color-background: #0F172A;
  --color-surface: #1E293B;
  --color-text-primary: #F1F5F9;
  --color-text-secondary: #94A3B8;
  --color-error: #F87171;
  --color-error-bg: rgba(248, 113, 113, 0.1);
  --color-success: #34D399;
  --color-success-bg: rgba(52, 211, 153, 0.1);
  --color-border: #334155;
  --color-input-bg: #1E293B;
  --color-shadow: rgba(0, 0, 0, 0.3);
}

/* Dark Mode Specific Overrides */
.dark-mode body {
  background: var(--color-background);
}

/* Branding Panel Dark Mode */
.dark-mode .branding-panel {
  background: linear-gradient(135deg, #312E81 0%, #581C87 100%);
}

/* Login Card Dark Mode */
.dark-mode .login-card {
  background: var(--color-surface);
  border-color: var(--color-border);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
}

/* Theme Toggle Dark Mode */
.dark-mode .theme-toggle {
  background: var(--color-surface);
  border-color: var(--color-border);
}

.dark-mode .theme-toggle:hover {
  background: var(--color-background);
}

/* Show/Hide Icons Based on Theme */
.dark-mode .theme-toggle__icon--sun {
  display: none;
}

.dark-mode .theme-toggle__icon--moon {
  display: block;
  color: #FCD34D;
}

/* Form Inputs Dark Mode */
.dark-mode .form-input,
.dark-mode .form-select {
  background: var(--color-input-bg);
  border-color: var(--color-border);
  color: var(--color-text-primary);
}

.dark-mode .form-input::placeholder {
  color: var(--color-text-secondary);
}

.dark-mode .form-input:hover {
  border-color: var(--color-text-secondary);
}

.dark-mode .form-input:focus {
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(129, 140, 248, 0.2);
}

.dark-mode .form-input--error:focus {
  box-shadow: 0 0 0 3px rgba(248, 113, 113, 0.2);
}

/* Select Arrow Dark Mode */
.dark-mode .form-select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394A3B8'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
}

/* Password Toggle Dark Mode */
.dark-mode .password-toggle {
  color: var(--color-text-secondary);
}

.dark-mode .password-toggle:hover {
  color: var(--color-text-primary);
}

/* Checkbox Dark Mode */
.dark-mode .form-checkbox {
  accent-color: var(--color-primary);
}

/* Button Dark Mode */
.dark-mode .btn--primary {
  background: var(--color-primary);
  color: #0F172A;
}

.dark-mode .btn--primary:hover:not(:disabled) {
  background: var(--color-primary-hover);
  box-shadow: 0 4px 12px rgba(129, 140, 248, 0.4);
}

.dark-mode .btn--success {
  background: var(--color-success);
  color: #0F172A;
}

/* Alert Dark Mode */
.dark-mode .alert--error {
  background: var(--color-error-bg);
  border-color: var(--color-error);
}

.dark-mode .alert--success {
  background: var(--color-success-bg);
  border-color: var(--color-success);
}

/* Link Dark Mode */
.dark-mode .form-link {
  color: var(--color-primary);
}

.dark-mode .form-link:hover {
  color: var(--color-primary-hover);
}

/* Password Strength Bars Dark Mode */
.dark-mode .password-strength__bar {
  background: var(--color-border);
}

/* Skeleton Loader Dark Mode */
.dark-mode .skeleton {
  background: linear-gradient(90deg, var(--color-border) 25%, var(--color-surface) 50%, var(--color-border) 75%);
}

/* Loading Overlay Dark Mode */
.dark-mode .loading-overlay {
  background: rgba(15, 23, 42, 0.9);
}

.dark-mode .loading-overlay__spinner {
  border-color: var(--color-border);
  border-top-color: var(--color-primary);
}

/* Role Badges Dark Mode */
.dark-mode .role-badge--admin {
  background: rgba(248, 113, 113, 0.15);
  color: #FCA5A5;
}

.dark-mode .role-badge--security {
  background: rgba(251, 191, 36, 0.15);
  color: #FCD34D;
}

.dark-mode .role-badge--faculty {
  background: rgba(52, 211, 153, 0.15);
  color: #6EE7B7;
}

.dark-mode .role-badge--student {
  background: rgba(129, 140, 248, 0.15);
  color: #A5B4FC;
}

/* Page Footer Dark Mode */
.dark-mode .page-footer {
  color: var(--color-text-secondary);
}

.dark-mode .page-footer a {
  color: var(--color-primary);
}

/* Rate Limit Warning Dark Mode */
.dark-mode .rate-limit-warning {
  background: var(--color-error-bg);
}

/* Scrollbar Dark Mode */
.dark-mode ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.dark-mode ::-webkit-scrollbar-track {
  background: var(--color-background);
}

.dark-mode ::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 4px;
}

.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-secondary);
}

/* Selection Dark Mode */
.dark-mode ::selection {
  background: var(--color-primary);
  color: #0F172A;
}

/* Focus Visible Dark Mode */
.dark-mode :focus-visible {
  outline-color: var(--color-primary);
}

/* Smooth Theme Transition */
body,
.login-card,
.form-input,
.form-select,
.btn,
.theme-toggle,
.alert {
  transition: background-color var(--transition-base), 
              border-color var(--transition-base), 
              color var(--transition-base),
              box-shadow var(--transition-base);
}

/* Disable transitions on theme switch initially */
.theme-switching,
.theme-switching * {
  transition: none !important;
}
